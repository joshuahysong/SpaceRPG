!function(t){function e(e){for(var i,s,a=e[0],u=e[1],c=e[2],l=0,f=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(h&&h(e);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={0:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=u;o.push([534,1]),n()}({1455:function(t,e,n){"use strict";n.r(e);var i=n(98),r=n(533),o=n.n(r),s=function(){function t(){}return t.isMobile=!1,t.isDebugging=!0,t}(),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.drawLine=function(t,e,n,i,r,o,s){r=r||"#ffffff",o=o||1,s=s||1;var a=this.add.graphics(),u=Phaser.Display.Color.HexStringToColor(r).color;return a.lineStyle(s,u,o),a.lineBetween(t,e,n,i),a},e.prototype.betweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-e.y,2))},e}(Phaser.Scene),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){function e(){return t.call(this,{key:"BootScene"})||this}return c(e,t),e.prototype.preload=function(){s.isMobile=!this.sys.game.device.os.desktop,this.load.multiatlas("shipTiles","./../assets/shipTiles.json","./../assets")},e.prototype.create=function(){this.scene.start("ShipScene")},e}(u),l=function(){function t(){}return t.tileSize=32,t.worldSize=400,t}(),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return f(e,t),e}(Phaser.GameObjects.Sprite),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(t){function e(){var e=t.call(this,{key:"ShipScene"})||this;return e.pinchZoom=1,e.isBuilding=!1,e.isBuildingTileAllowed=!1,e.shipArray=[[0,1,0,0,0,0,0],[1,1,1,1,1,1,1],[0,1,0,0,0,0,0]],e}return y(e,t),e.prototype.create=function(){this.bindEvents(),this.setupCameras(),this.drawGrid(),this.drawShip(),s.isDebugging&&(this.drawDebug(),this.scene.run("DebugScene")),this.scene.run("HudScene")},e.prototype.update=function(t,e){this.input.activePointer.isDown&&!s.isMobile||this.input.pointer1.isDown&&s.isMobile&&!this.input.pointer2.isDown?(this.oldPointerPosition&&(this.cameras.main.scrollX+=(this.oldPointerPosition.x-this.input.activePointer.position.x)/this.cameras.main.zoom,this.cameras.main.scrollY+=(this.oldPointerPosition.y-this.input.activePointer.position.y)/this.cameras.main.zoom),this.oldPointerPosition=this.input.activePointer.position.clone()):this.oldPointerPosition=null},e.prototype.setupCameras=function(){this.cameras.main.setBounds(-1*l.tileSize*l.worldSize/2,-1*l.tileSize*l.worldSize/2,l.tileSize*l.worldSize,l.tileSize*l.worldSize);var t=this.shipArray[0].length*l.tileSize/2,e=this.shipArray.length*l.tileSize/2,n=(t-l.tileSize/2)%l.tileSize,i=(e-l.tileSize/2)%l.tileSize;this.cameras.main.centerOn(n,i)},e.prototype.bindEvents=function(){this.pinch=this.rexGestures.add.pinch(),this.pinch.enable;this.pinch.on("pinch",function(t){this.pinchZoom*=t.scaleFactor,this.pinchZoom=this.pinchZoom>2?2:this.pinchZoom<.25?.25:this.pinchZoom,this.cameras.main.zoomTo(this.pinchZoom,0)},this),this.input.on("wheel",function(t){var e=this.cameras.main.zoom,n=this.cameras.main.zoom;t.deltaY<0?n+=.5*n:t.deltaY>0&&(n-=.5*n),e!==(n=n>2?2:n<.25?.25:n)&&this.cameras.main.zoomTo(n,0)},this),this.input.keyboard.on("keydown_F4",function(){if(s.isDebugging=!s.isDebugging,s.isDebugging)this.drawDebug(),this.scene.run("DebugScene");else{if(this.debugObjects)for(var t=0;t<this.debugObjects.length;t++)this.debugObjects[t].destroy();this.scene.stop("DebugScene")}},this),s.isMobile||this.input.on("pointermove",function(t){var e=this.cameras.main.getWorldPoint(t.x,t.y);this.events.emit("tileCoordinates",this.getTileCoordinates(e.x,e.y))},this),this.bindTileEvents()},e.prototype.bindTileEvents=function(){this.scene.get("HudScene").events.on("buildButton",function(){this.isBuilding=!0},this),this.input.on("pointermove",function(t){if(this.isBuilding){var e=this.cameras.main.getWorldPoint(t.x,t.y),n=this.getTileCoordinates(e.x,e.y);this.buildingTile?(this.buildingTile.x=n.x*l.tileSize,this.buildingTile.y=n.y*l.tileSize,this.ship.filter(function(t){return t.location.x===n.x&&t.location.y===n.y}).length>0?(this.isBuildingTileAllowed=!1,this.buildingTile.tint=Phaser.Display.Color.HexStringToColor("#ff0000").color):(this.isBuildingTileAllowed=!0,this.buildingTile.tint=Phaser.Display.Color.HexStringToColor("#33cc33").color)):(this.buildingTile=new p(this,n.x*l.tileSize,n.y*l.tileSize,"shipTiles","hull"),this.buildingTile.setOrigin(.5),this.buildingTile.displayWidth=l.tileSize,this.buildingTile.scaleY=this.buildingTile.scaleX,this.buildingTile.alpha=.5,this.add.existing(this.buildingTile))}},this),this.input.on("pointerdown",function(t){if(this.isBuilding&&this.buildingTile&&this.isBuildingTileAllowed){var e=new p(this,this.buildingTile.x,this.buildingTile.y,this.buildingTile.texture.key,this.buildingTile.frame.name);e.scale=this.buildingTile.scale,this.add.existing(e),this.buildingTile.destroy(),this.buildingTile=null,this.isBuilding=!1}},this)},e.prototype.drawGrid=function(){for(var t=this.cameras.main.getBounds(),e=t.width,n=t.height,i=Math.floor(e/2/l.tileSize)*l.tileSize*-1-l.tileSize/2,r=Math.floor(n/2/l.tileSize)*l.tileSize*-1-l.tileSize/2;i<e/2;)this.drawLine(i,n/2*-1,i,n/2,"#ffffff",.1),this.drawLine(e/2*-1,r,e/2,r,"#ffffff",.1),r+=l.tileSize,i+=l.tileSize},e.prototype.drawShip=function(){this.ship=[];var t=this.shipArray[0].length*l.tileSize/2,e=this.shipArray.length*l.tileSize/2;t-=(t-l.tileSize/2)%l.tileSize,e-=(e-l.tileSize/2)%l.tileSize;for(var n=0;n<this.shipArray.length;n++)for(var i=0;i<this.shipArray[n].length;i++)if(1===this.shipArray[n][i]){var r=i*l.tileSize+l.tileSize/2-t,o=n*l.tileSize+l.tileSize/2-e,s=new p(this,r,o,"shipTiles","hull");s.setOrigin(.5),s.displayWidth=l.tileSize,s.scaleY=s.scaleX,s.location=new Phaser.Geom.Point(r/l.tileSize,o/l.tileSize),this.add.existing(s),this.ship.push(s)}},e.prototype.drawDebug=function(){this.debugObjects=[];var t=this.cameras.main.getBounds(),e=t.width,n=t.height;this.debugObjects.push(this.drawLine(0,n/2*-1,0,n/2,"#0000ff",.5)),this.debugObjects.push(this.drawLine(e/2*-1,0,e/2,0,"#0000ff",.5))},e.prototype.getTileCoordinates=function(t,e){var n=l.tileSize/2;return new Phaser.Geom.Point(Math.floor((t+n)/l.tileSize),Math.floor((e+n)/l.tileSize))},e.prototype.getTileNeighbors=function(t,e){},e}(u),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(){var e=t.call(this,{key:"DebugScene"})||this;return e.debugFont={fontFamily:"Monospace",fontSize:12,color:"#ffffff"},e}return v(e,t),e.prototype.create=function(){this.worldCamera=this.scene.get("ShipScene").cameras.main,this.drawStartingText(),this.drawCameraCenter(),this.bindEvents(),this.input.addPointer(1)},e.prototype.update=function(){var t=this.worldCamera.getBounds();if(this.cameraText.setText(["---- Camera ----","Size: "+t.width+", "+t.height,"View: "+Math.round(this.worldCamera.worldView.width)+", "+Math.round(this.worldCamera.worldView.height),"Center: "+Math.round(this.worldCamera.worldView.centerX)+", "+Math.round(this.worldCamera.worldView.centerY),"Zoom: "+this.worldCamera.zoom.toFixed(2)]),!s.isMobile){var e=this.worldCamera.getWorldPoint(this.input.activePointer.x,this.input.activePointer.y),n=["---- Mouse ----","Screen: "+Math.round(this.input.activePointer.x)+", "+Math.round(this.input.activePointer.y),"World: "+Math.round(e.x)+", "+Math.round(e.y)];this.tileCoordinates&&n.push("Tile: "+this.tileCoordinates.x+", "+this.tileCoordinates.y),this.mouseText.setText(n)}if(s.isMobile){this.pointerText&&this.pointerText.destroy();var i=["---- Pointers ----"];this.input.activePointer.isDown&&i.push("activePointer: "+Math.round(this.input.activePointer.position.x)+", "+Math.round(this.input.activePointer.position.y)),this.input.pointer1.isDown&&i.push("pointer1: "+Math.round(this.input.pointer1.position.x)+", "+Math.round(this.input.pointer1.position.y)),this.input.pointer2.isDown&&i.push("pointer2: "+Math.round(this.input.pointer2.position.x)+", "+Math.round(this.input.pointer2.position.y)),this.pointerText=this.add.text(200,0,i,this.debugFont)}},e.prototype.bindEvents=function(){this.scene.get("ShipScene").events.on("tileCoordinates",function(t){this.tileCoordinates=t},this)},e.prototype.drawStartingText=function(){this.cameraText=this.add.text(0,0,["Camera","Center: 0, 0","Zoom: 0"],this.debugFont),s.isMobile?this.pointerText=this.add.text(200,0,"---- Pointer ----",this.debugFont):this.mouseText=this.add.text(200,0,["---- Mouse ----","Screen: 0, 0","World: 0, 0","Tile: 0, 0"],this.debugFont)},e.prototype.drawCameraCenter=function(){var t=this.worldCamera.getBounds(),e=t.width,n=t.height;this.drawLine(this.worldCamera.centerX,n/2*-1,this.worldCamera.centerX,n/2,"#ff0000",.25),this.drawLine(e/2*-1,this.worldCamera.centerY,e/2,this.worldCamera.centerY,"#ff0000",.25)},e}(u),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(t){function e(){var e=t.call(this,{key:"HudScene"})||this;return e.buttonFont={fontFamily:"Arial",fontSize:16,color:"#ffffff"},e}return b(e,t),e.prototype.create=function(){var t=this.add.rectangle(0,0,150,40);t.setFillStyle(Phaser.Display.Color.HexStringToColor("#333333").color),t.setStrokeStyle(1,Phaser.Display.Color.HexStringToColor("#666666").color);var e=this.add.text(0,0,"Build",this.buttonFont);e.setOrigin(.5);var n=this.add.container(75,window.innerHeight-20,[t,e]);n.setSize(150,40),n.setInteractive({cursor:"pointer"}),n.on("pointerdown",function(){this.events.emit("buildButton")},this)},e}(u),w={type:i.AUTO,parent:"app",width:window.innerWidth,height:window.innerHeight,scene:[h,d,g,m],scale:{mode:i.Scale.RESIZE,autoCenter:i.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexGestures",plugin:o.a,mapping:"rexGestures"}]}},O=new i.Game(w);window.game=O},258:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},533:function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=254)}({0:function(t,e){t.exports=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var i=e.split("."),r=t,o=n,s=0;s<i.length;s++){if(!r.hasOwnProperty(i[s])){o=n;break}o=r[i[s]],r=r[i[s]]}return o}return n}return n}},1:function(t,e,n){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},103:function(t,e,n){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},104:function(t,e,n){"use strict";var i={};e.a=function(t,e,n){switch(void 0===n?n={}:!0===n&&(n=i),n.left=!1,n.right=!1,n.up=!1,n.down=!1,t=(t+360)%360,e){case 0:t<180?n.down=!0:n.up=!0;break;case 1:t>90&&t<=270?n.left=!0:n.right=!0;break;case 2:t>45&&t<=135?n.down=!0:t>135&&t<=225?n.left=!0:t>225&&t<=315?n.up=!0:n.right=!0;break;case 3:t>22.5&&t<=67.5?(n.down=!0,n.right=!0):t>67.5&&t<=112.5?n.down=!0:t>112.5&&t<=157.5?(n.down=!0,n.left=!0):t>157.5&&t<=202.5?n.left=!0:t>202.5&&t<=247.5?(n.left=!0,n.up=!0):t>247.5&&t<=292.5?n.up=!0:t>292.5&&t<=337.5?(n.up=!0,n.right=!0):n.right=!0}return n}},109:function(t,e,n){"use strict";var i=n(85),r=n(18);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,c(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=p},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a),n=e,(f=[{key:"resetFromJSON",value:function(t){return u(c(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(l(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?d:y}},{key:"onDrag2End",value:function(){this.state=p}},{key:"onDrag2",value:function(){switch(this.state){case y:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=d}break;case d:t=this.distanceBetween,this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===d}}])&&s(n.prototype,f),e}(),p="IDLE",y="BEGIN",d="RECOGNIZED";e.a=f},133:function(t,e,n){"use strict";var i=n(49),r=n(18);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,c(e).call(this,t,n))),u={states:{IDLE:{},BEGIN:{enter:function(){var t=s.pointer;s.startX=t.x,s.startY=t.y,s.startWorldX=t.worldX,s.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var t=s.lastPointer;s.endX=t.x,s.endY=t.y,s.endWorldX=t.worldX,s.endWorldY=t.worldY,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a),n=e,(f=[{key:"resetFromJSON",value:function(t){return u(c(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(l(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?d:y}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){switch(this.state){case y:this.pointer.getDistance()>=this.dragThreshold&&(this.state=d);break;case d:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var n=this.pointer;self.x=n.x,self.y=n.y,self.worldX=n.worldX,self.worldY=n.worldY,this.emit("pan",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===d}}])&&s(n.prototype,f),e}(),p="IDLE",y="BEGIN",d="RECOGNIZED";e.a=f},135:function(t,e,n){"use strict";var i=n(85),r=n(18),o=Phaser.Math.RotateAround,s=function(t,e,n,i){return o(t,e,n,i),t.rotation+=i,t},a={};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,v=Phaser.Math.Angle.WrapDegrees,g=Phaser.Math.Angle.ShortestBetween,b=Phaser.Math.RadToDeg,m=Phaser.Math.DegToRad,w=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=h(i=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?h(t):e}(this,f(e).call(this,t,n))),s={states:{IDLE:{enter:function(){o.prevAngle=void 0,o.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("rotatestart",o)},exit:function(){o.emit("rotateend",o)}}},init:function(){this.state=S},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(s)),i}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i.a),n=e,(o=[{key:"resetFromJSON",value:function(t){return l(f(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(d(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=v(b(this.angleBetween)),this.state=0===this.rotationThreshold?_:P}},{key:"onDrag2End",value:function(){this.state=S}},{key:"onDrag2",value:function(){switch(this.state){case P:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=v(b(this.angleBetween));this.angle=g(this.prevAngle,t),this.prevAngle=t,this.state=_}break;case _:t=v(b(this.angleBetween)),this.angle=g(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isRotation",get:function(){return this.state===_}},{key:"rotation",get:function(){return m(this.angle)}}])&&c(n.prototype,o),e}(),O={spinObject:function(t,e){if(!this.isRotation)return this;void 0===e&&(e=this.pointers[0].camera);var n=this.movementCenterX,i=this.movementCenterY;e.getWorldPoint(this.centerX,this.centerY,a);var r=a.x,o=a.y,u=this.rotation;if(Array.isArray(t))for(var c=t,h=0,l=c.length;h<l;h++)(t=c[h]).x+=n,t.y+=i,s(t,r,o,u);else t.x+=n,t.y+=i,s(t,x,y,u);return this}};Object.assign(w.prototype,O);var S="IDLE",P="BEGIN",_="RECOGNIZED";e.a=w},136:function(t,e,n){"use strict";var i=n(49),r=n(18),o=Phaser.Math.Distance.Between,s=Phaser.Math.Angle.Between,a={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return o(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return s(e.x,e.y,t.x,t.y)}},u=n(103),c=n(104);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Utils.Objects.GetValue,g=Phaser.Math.RadToDeg,b=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=f(i=function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?f(t):e}(this,y(e).call(this,t,n))),s={states:{IDLE:{},BEGIN:{enter:function(){o.validDrag=!1}},RECOGNIZED:{enter:function(){o.start(),o.updateDirectionStates(),o.emit("swipe",o,o.gameObject,o.lastPointer)},exit:function(){o.stop(),o.clearDirectionStates()}}},init:function(){this.state=m},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(s)),i.clearDirectionStates(),i}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,i.a),n=e,(o=[{key:"resetFromJSON",value:function(t){return p(y(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(v(t,"threshold",10)),this.setMinDragVelocity(v(t,"velocityThreshold",1e3)),this.setDirectionMode(v(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=w}},{key:"onDragEnd",value:function(){this.state=m}},{key:"onDrag",value:function(){this.state===w&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=O))}},{key:"postUpdate",value:function(t,e){this.state===O&&(this.state=m)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=u.a[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=g(this.getVelocityAngle());return Object(c.a)(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===O}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityX();break;case 1:t=this.getVelocityY();break;default:t=this.getVelocity()}return t}}])&&l(n.prototype,o),e}();Object.assign(b.prototype,a);var m="IDLE",w="BEGIN",O="RECOGNIZED";e.a=b},17:function(t,e,n){"use strict";var i=n(1);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=Phaser.Utils.Objects.GetValue,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(o(n,"eventEmitter",void 0)),this.setTickingMode(o(n,"tickingMode",1))}var e,n;return e=t,(n=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&r(e.prototype,n),t}();Object.assign(s.prototype,i.a);var a={no:0,lazy:1,always:2};e.a=s},18:function(t,e,n){"use strict";var i=n(1),r=n(0),o=n.n(r);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=o()(e,"states",void 0);n&&this.addStates(n);var i=o()(e,"extend",void 0);if(i)for(var r in i)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=i[r]);var s=o()(e,"eventEmitter",void 0),a=o()(e,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(e)}var e,n;return e=t,(n=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(o()(t,"enable",!0)),this.start(o()(t,"start",void 0));var e=o()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var n=o()(e,"next",void 0);n&&(this["next_"+t]=n);var i=o()(e,"exit",void 0);i&&(this["exit_"+t]=i);var r=o()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,n){void 0===n&&(n="update");var i=this[n+"_"+this.state];i&&i.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,n=this[e];n&&n.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,r=this[i];r&&r.call(this),this.emit(i,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&s(e.prototype,n),t}();Object.assign(a.prototype,i.a);var u=a;e.a=u},2:function(t,e,n){"use strict";var i=Phaser.Scene;e.a=function(t){return t instanceof i}},254:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e}var e,n;return e=t,(n=[{key:"register",value:function(e,n){t.prototype[e]=n}}])&&i(e,n),t}(),o=n(80),s=n(4),a=n(79);r.register("tap",function(t,e){return Object(a.a)(t)||(e=t,t=this.scene),new o.a(t,e)}),Object(s.a)(window,"RexPlugins.Gestures.Tap",o.a),o.a;var u=n(81);r.register("press",function(t,e){return Object(a.a)(t)||(e=t,t=this.scene),new u.a(t,e)}),Object(s.a)(window,"RexPlugins.Gestures.Press",u.a),u.a;var c=n(133);r.register("pan",function(t,e){return Object(a.a)(t)||(e=t,t=this.scene),new c.a(t,e)}),Object(s.a)(window,"RexPlugins.Gestures.Pan",c.a),c.a;var h=n(136);r.register("swipe",function(t,e){return Object(a.a)(t)||(e=t,t=this.scene),new h.a(t,e)}),Object(s.a)(window,"RexPlugins.Gestures.Swipe",h.a),h.a;var l=n(109);r.register("pinch",function(t){return new l.a(this.scene,t)}),Object(s.a)(window,"RexPlugins.Gestures.Pinch",l.a),l.a;var f=n(135);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.register("rotate",function(t){return new f.a(this.scene,t)}),Object(s.a)(window,"RexPlugins.Gestures.Rotate",f.a),f.a;var v=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,y(e).call(this,t,n))).add=new r(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,Phaser.Plugins.ScenePlugin),e}();e.default=v},3:function(t,e,n){"use strict";var i=n(2);e.a=function(t){return Object(i.a)(t)?t:t.scene&&Object(i.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(i.a)(t.parent.scene)?t.parent.scene:void 0}},4:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,n){if("object"===i(t))if(r(e)){if(null==n)return;"object"===i(n)&&(t=n)}else{"string"==typeof e&&(e=e.split("."));var o=e.pop();((function(t,e,n){void 0===n&&(n={});var o=t;if(r(e));else{var s;"string"==typeof e&&(e=e.split("."));for(var a=0,u=e.length;a<u;a++){var c;null!=o[s=e[a]]&&"object"===i(o[s])||(c=a===u-1?n:{},o[s]=c),o=o[s]}}return o})(t,e))[o]=n}}},49:function(t,e,n){"use strict";var i=n(17),r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=Object(r.a)(t);return o===t&&(t=void 0),(i=a(this,c(e).call(this,o,n))).scene=o,i.gameObject=t,t&&t.setInteractive(l(n,"inputConfig",void 0)),i.resetFromJSON(n),i.boot(),i}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a),n=e,(o=[{key:"resetFromJSON",value:function(t){return this.setEnable(l(t,"enable",!0)),void 0===this.gameObject?this.bounds=l(t,"bounds",void 0):this.bounds=void 0,this.tracerState=p,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){u(c(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,u(c(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t,e){this.enable&&void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=y,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart())}},{key:"onPointerUp",value:function(t){this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=p,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=this.pointer===t;!n&&e||(n&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===y&&this.onDragEnd(),this.pointer=void 0,this.tracerState=p,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){u(c(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){u(c(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=d,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(n.prototype,o),e}(),p=0,y=1,d="IDLE";e.a=f},79:function(t,e,n){"use strict";var i=Phaser.GameObjects.GameObject;e.a=function(t){return t instanceof i}},80:function(t,e,n){"use strict";var i=n(49),r=n(18);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,p=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,c(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=y},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a),n=e,(p=[{key:"resetFromJSON",value:function(t){u(c(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(l(t,"time",250)),this.setTapInterval(l(t,"tapInterval",200)),this.setDragThreshold(l(t,"threshold",9)),this.setTapOffset(l(t,"tapOffset",10));var n=l(t,"taps",void 0);return void 0!==n?this.setTaps(n):(this.setMaxTaps(l(t,"maxTaps",void 0)),this.setMinTaps(l(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case y:this.state=d;break;case d:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=v,this.state=d);break;case v:this.state=d}}},{key:"onDragEnd",value:function(){this.state===d&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=v))}},{key:"onDrag",value:function(){this.state!==y&&this.pointer.getDistance()>this.dragThreshold&&(this.state=y)}},{key:"preUpdate",value:function(t,e){if(this.state===d){var n=this.lastPointer;n.isDown?t-n.downTime>this.holdTime&&(this.state=y):t-n.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=v:this.state=y)}}},{key:"postUpdate",value:function(t,e){this.state===v&&(this.state=y)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===v}}])&&s(n.prototype,p),e}(),y="IDLE",d="BEGIN",v="RECOGNIZED";e.a=p},81:function(t,e,n){"use strict";var i=n(49),r=n(18);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(i=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,c(e).call(this,t,n))),u={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return i.setRecongizedStateObject(new r.a(u)),i}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.a),n=e,(f=[{key:"resetFromJSON",value:function(t){return u(c(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(l(t,"threshold",9)),this.setMinHoldTime(l(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?d:y}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){this.state!==p&&this.pointer.getDistance()>this.dragThreshold&&(this.state=p)}},{key:"preUpdate",value:function(t,e){this.state===y&&t-this.pointer.downTime>=this.holdTime&&(this.state=d)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===d}}])&&s(n.prototype,f),e}(),p="IDLE",y="BEGIN",d="RECOGNIZED";e.a=f},85:function(t,e,n){"use strict";var i=n(1),r=n(9);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,u=Phaser.Math.Distance.Between,c=Phaser.Math.Angle.Between,h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.input.manager.pointersTotal-1;i<2&&e.input.addPointer(2-i),this.scene=e,this.setEventEmitter(s(n,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(n),this.boot()}var e,n;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(r.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(r.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t){if(this.enable&&2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=p,this.onDrag1Start();break;case p:this.tracerState=y,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case p:this.tracerState=f,this.onDrag1End();break;case y:this.tracerState=p,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=-1!==this.pointers.indexOf(t);if(!n&&e);else if(n&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case p:this.onDrag1();break;case y:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===y&&this.onDrag2End(),this.pointers.length=0,Object(r.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=d,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0],e=this.pointers[1];return u(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0],e=this.pointers[1];return c(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,n=t.prevPosition;l.x=e.x-n.x,l.y=e.y-n.y}else l.x=0,l.y=0;return l}},{key:"centerX",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==y)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==y)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&o(e.prototype,n),t}();Object.assign(h.prototype,i.a);var l={},f=0,p=1,y=2,d="IDLE";e.a=h},9:function(t,e,n){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}}}).default},534:function(t,e,n){n(98),t.exports=n(1455)},741:function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!h){var t=a(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new y(t,e)),1!==c.length||h||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},9:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,o),!0;case 6:return h.fn.call(h.context,e,n,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];h.fn.apply(h.context,u)}else{var f,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),l){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,n);break;case 4:h[c].fn.call(h[c].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];h[c].fn.apply(h[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],h=s.length;u<h;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}});